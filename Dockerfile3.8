# vim: ft=dockerfile
FROM python:3.8-buster
# docker build -t poorwsgi3.8 -f Dockerfile3.8 .
# docker run -ti --rm -w "$PWD" -v "$PWD:$PWD" -p 8080:8080 poorwsgi3.8 bash


# instalace behovych a cast testovych zavislosti
RUN \
    apt-get update && \
    apt-get install --yes --no-install-recommends \
        curl \
        vim \
        sudo

ARG USER

RUN echo "#${USER} ALL=(ALL) ALL" > /etc/sudoers.d/docker-owner


ARG PKG_DIR

RUN pip3 install \
        simplejson \
        pytest \
        pytest-pylint \
        pytest-mypy \
        pytest-doctestplus \
        mock-import \
        openapi_core \
        requests \
        uwsgi

EXPOSE 8080

ENV LC_ALL C.UTF-8
